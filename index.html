<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://i.ibb.co/FjqTPtk/Whats-App-Image-2025-10-31-at-15-39-30-8dcd97e6.jpg" type="image/png">
    <title>FalconixGaming - Gaming Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&family=Fredoka+One&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* bg-gray-900 */
            color: #F9FAFB; /* text-gray-50 */
        }
        .font-black-ops {
            font-family: 'Inter', sans-serif;
            font-weight: 900;
        }
        #gameCanvas, #racerGameCanvas, #towerDefenseCanvas {
            display: block;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }
        .glassmorphism {
            background: rgba(31, 41, 55, 0.6); /* bg-gray-800 with opacity */
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .btn-primary {
            @apply px-6 py-3 font-semibold text-white bg-sky-500 rounded-lg shadow-md hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-opacity-75 transition-all duration-300 transform hover:scale-105;
        }
        .btn-secondary {
            @apply px-6 py-3 font-semibold text-white bg-indigo-500 rounded-lg shadow-md hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-opacity-75 transition-all duration-300 transform hover:scale-105;
        }
        .btn-danger {
            @apply px-6 py-3 font-semibold text-white bg-pink-600 rounded-lg shadow-md hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-opacity-75 transition-all duration-300 transform hover:scale-105;
        }
        .btn-success {
            @apply px-6 py-3 font-semibold text-white bg-green-600 rounded-lg shadow-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-75 transition-all duration-300 transform hover:scale-105;
        }
         .btn-warning {
            @apply px-6 py-3 font-semibold text-white bg-yellow-500 rounded-lg shadow-md hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-opacity-75 transition-all duration-300 transform hover:scale-105;
        }
        .btn-orange {
            @apply px-6 py-3 font-semibold text-white bg-orange-500 rounded-lg shadow-md hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-400 focus:ring-opacity-75 transition-all duration-300 transform hover:scale-105;
        }
        /* New Outline Button Styles */
        .btn-primary-outline {
            @apply px-6 py-3 font-semibold text-sky-400 bg-transparent border-2 border-sky-500 rounded-lg shadow-md hover:bg-sky-500 hover:text-white focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-opacity-75 transition-all duration-300 transform hover:scale-105;
        }
        .btn-secondary-outline {
            @apply px-6 py-3 font-semibold text-indigo-400 bg-transparent border-2 border-indigo-500 rounded-lg shadow-md hover:bg-indigo-500 hover:text-white focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-opacity-75 transition-all duration-300 transform hover:scale-105;
        }
        .btn-danger-outline {
            @apply px-6 py-3 font-semibold text-pink-500 bg-transparent border-2 border-pink-600 rounded-lg shadow-md hover:bg-pink-600 hover:text-white focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-opacity-75 transition-all duration-300 transform hover:scale-105;
        }
        .btn-success-outline {
            @apply px-6 py-3 font-semibold text-green-500 bg-transparent border-2 border-green-600 rounded-lg shadow-md hover:bg-green-600 hover:text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-75 transition-all duration-300 transform hover:scale-105;
        }
        .btn-warning-outline {
            @apply px-6 py-3 font-semibold text-yellow-500 bg-transparent border-2 border-yellow-500 rounded-lg shadow-md hover:bg-yellow-500 hover:text-white focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-opacity-75 transition-all duration-300 transform hover:scale-105;
        }
        .game-card:hover .game-card-overlay {
            opacity: 1;
        }
        .game-card-overlay {
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        #pixelRacerModal, #towerDefenseModal, #ticTacToeModal, #memoryMatchModal, #candyCrashModal, #snakeModal {
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }
        .pointer-events-passthrough {
            pointer-events: none;
        }
        .pointer-events-auto {
            pointer-events: auto;
        }
        
        /* Tic-Tac-Toe Styles */
        .ttt-cell, .memory-card-face {
            font-family: 'Fredoka One', cursive;
        }
        .ttt-cell {
            transition: background-color 0.2s ease-in-out;
        }
        @keyframes celebrate {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        .winning-cell {
            animation: celebrate 0.8s ease-in-out;
            background-color: rgba(59, 130, 246, 0.3) !important;
        }

        /* Memory Game Specific Styles */
        .memory-game-board {
            perspective: 1000px;
        }
        .memory-card {
            position: relative;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            cursor: pointer;
        }
        .memory-card.is-flipped {
            transform: rotateY(180deg);
        }
        .memory-card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.5rem;
        }
        .memory-card-front {
            background-color: #4b5563; /* bg-gray-600 */
        }
        .memory-card-back {
            background-color: #3b82f6; /* bg-blue-600 */
            transform: rotateY(180deg);
            font-size: 2.5rem; /* Emoji size */
        }
        .memory-card.matched .memory-card-back {
            background-color: #16a34a; /* bg-green-600 */
        }

        /* Scrollbar Hiding Utility */
       .hide-scrollbar::-webkit-scrollbar {
           display: none;
       }
       .hide-scrollbar {
           -ms-overflow-style: none;  /* IE and Edge */
           scrollbar-width: none;  /* Firefox */
       }

        /* Fullscreen on mobile */
        @media (max-width: 768px) {
            #pixelRacerModal, #towerDefenseModal, #ticTacToeModal, #memoryMatchModal, #snakeModal, #candyCrashModal {
                padding: 0;
            }
            #pixelRacerModal > div, #towerDefenseModal > div, #ticTacToeModal > div, #memoryMatchModal > div, #snakeModal > div, #candyCrashModal > div {
                width: 100%;
                height: 100%;
                max-width: 100%;
                max-height: 100%;
                border-radius: 0;
            }
            #pixelRacerModal .aspect-\[3\/4\], #towerDefenseModal .aspect-\[4\/3\], #snakeModal .aspect-square {
                aspect-ratio: auto; /* Remove fixed aspect ratio */
                height: 100%;
                width: 100%;
            }
            #closeRacerModal, #closeTowerDefenseModal, #closeTicTacToeModal, #closeMemoryMatchModal, #closeSnakeModal, #closeCandyCrashModal {
                top: 1rem;
                right: 1rem;
                background-color: rgba(0,0,0,0.5);
                color: white;
                z-index: 100;
            }
        }

        /* --- NEW ANIMATION FOR PRIZE TEXT --- */
        @keyframes pulse-text {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.05);
                opacity: 0.9;
            }
        }
        .pulse-text-animation {
            animation: pulse-text 2s ease-in-out infinite;
        }
        /* --- END OF NEW CSS --- */

        /* --- NEW STYLES FOR CANDY CRASH --- */
        #candyCrashGameGrid {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            grid-template-rows: repeat(8, 1fr);
            gap: 4px; /* Space between candies */
            background-color: #374151; /* bg-gray-700 */
            border-radius: 0.5rem;
            padding: 4px;
            /* This makes the grid square */
            aspect-ratio: 1 / 1;
            touch-action: none; /* Prevents scrolling on mobile when dragging */
        }

        .candy-cell {
            width: 100%;
            height: 100%;
            border-radius: 0.25rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.75rem; /* Adjust emoji size */
            cursor: pointer;
            background-color: #4b5563; /* bg-gray-600 */
            transition: transform 0.2s ease-out, opacity 0.2s ease-out;
        }

        @media (max-width: 400px) {
            .candy-cell {
                font-size: 1.25rem; /* Smaller emojis on small phones */
            }
        }

        .candy-cell.selected {
            transform: scale(1.1);
            box-shadow: 0 0 15px #f472b6; /* pink-400 glow */
            border: 2px solid #f472b6;
        }

        .candy-cell.crush {
            animation: crush-animation 0.4s ease-out forwards;
        }

        @keyframes crush-animation {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            100% {
                transform: scale(0);
                opacity: 0;
            }
        }
        /* --- END OF NEW CANDY CRASH STYLES --- */
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-gray-900/80 backdrop-blur-sm sticky top-0 z-50 border-b border-gray-700">
        <nav class="container mx-auto px-4 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <a href="#" class="text-3xl font-black-ops text-white">FALCONIX<span class="text-sky-400">GAMING</span></a>
                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#" class="text-gray-300 hover:text-sky-400 transition-colors">Home</a>
                    <a href="#games" class="text-gray-300 hover:text-sky-400 transition-colors">Games</a>
                    <a href="#how-to-play" class="text-gray-300 hover:text-sky-400 transition-colors">How to Play</a>
                    <a href="leaderboard.html" class="text-gray-300 hover:text-sky-400 transition-colors">Leaderboards</a>
                </div>
                <div class="hidden md:flex items-center space-x-4">
                    <button id="login-button" class="btn-primary">Login with Google</button>
                    <div id="user-info" class="hidden items-center space-x-4">
                        <div id="user-display-name" class="text-white font-semibold text-right"></div>
                        <button id="logout-button" class="px-6 py-3 font-semibold text-red-500 hover:bg-red-500/10 rounded-lg transition-colors duration-300">Logout</button>
                    </div>
                </div>
                <!-- Mobile Menu Button -->
                 <button id="mobile-menu-button" class="md:hidden text-gray-300 hover:text-white">
                     <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                 </button>
            </div>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700">Home</a>
                <a href="#games" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700">Games</a>
                <a href="#how-to-play" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700">How to Play</a>
                <a href="leaderboard.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700">Leaderboards</a>
                <button id="mobile-login-button" class="w-full text-left block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700">Login with Google</button>
                <div id="mobile-user-info" class="hidden px-3 py-2">
                    <div id="mobile-user-display-name" class="block text-base font-medium text-white"></div>
                    <button id="mobile-logout-button" class="w-full text-left mt-2 block px-3 py-2 rounded-md text-base font-medium text-red-500 hover:bg-gray-700">Logout</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow">
        <!-- Hero Section / Featured Game -->
        <section id="featured-game" class="relative h-[600px] bg-gray-900 overflow-hidden">
            <div id="gameContainer" class="absolute inset-0">
                <canvas id="gameCanvas"></canvas>
            </div>
            <div id="uiLayer" class="absolute inset-0 flex flex-col items-center justify-center text-center p-4">
                <div id="startScreen" class="flex flex-col items-center justify-center pointer-events-auto">
                    <h1 class="text-5xl md:text-7xl font-black-ops text-white uppercase tracking-wider">Astro <span class="text-sky-400">Jumper</span></h1>
                    <p class="mt-4 text-lg text-gray-300 max-w-2xl">Survive the longest in the asteroid belt. Click to jump. Don't fall into the void!</p>
                    <button id="playButton" class="btn-primary mt-8 text-xl">Play Now</button>
                    <!-- *** UPDATED PRIZE ANNOUNCEMENT ON FRONT PAGE *** -->
                    <p id="prize-announcement" class="mt-6 text-2xl font-bold text-yellow-300 pulse-text-animation">
                        Play & Win ‚Çπ500! üí∞
                    </p>
                    <!-- *** NEW SEASON 1 DATE INFO *** -->
                    <p class="mt-2 text-lg font-semibold text-gray-200">
                        Season 1 is ON! <span class="text-white">(Nov 1st - Nov 30th)</span>
                    </p>
                    <!-- *** END OF NEW CONTENT *** -->
                </div>
                <div id="inGameUI" class="hidden absolute top-5 left-5 text-left pointer-events-passthrough">
                    <p class="text-2xl font-bold">Score: <span id="score">0</span></p>
                </div>
                <div id="gameOverScreen" data-game-name="Astro Jumper" class="hidden flex-col items-center justify-center glassmorphism p-8 rounded-2xl pointer-events-auto">
                    <h2 class="text-5xl font-black-ops text-white">GAME OVER</h2>
                    <p class="mt-4 text-2xl text-gray-200">Final Score: <span id="finalScore" class="font-bold text-sky-400">0</span></p>
                    <div class="mt-6 flex flex-col sm:flex-row gap-4">
                        <button id="restartButton" class="btn-primary-outline text-xl">Play Again</button>
                        <button id="shareAstroJumperScore" class="btn-secondary-outline text-xl">Share Score</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Games Grid Section -->
        <section id="games" class="py-16 sm:py-24 bg-gray-800/50">
            <div class="container mx-auto px-4 lg:px-8">
                <h2 class="text-4xl font-black-ops text-center mb-4">Our Games</h2>
                <!-- *** NEW SEASON 1 DATE INFO *** -->
                <p class="text-lg font-semibold text-center text-yellow-300 mb-12">
                    Season 1 is ON! <span class="text-white">(Nov 1st - Nov 30th)</span>
                </p>
                <!-- *** END OF NEW CONTENT *** -->
                <!-- This container will be a flex row on mobile and a grid on larger screens -->
                <div class="flex overflow-x-auto space-x-6 pb-4 sm:grid sm:grid-cols-2 sm:gap-8 lg:grid-cols-4 hide-scrollbar">
                    <!-- Game Card 1 -->
                    <div id="astro-jumper-card" class="group relative rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-2 transition-transform duration-300 cursor-pointer w-64 sm:w-auto flex-shrink-0">
                        <img src="https://img.gamepix.com/games/astro-jumper/cover/astro-jumper.png?w=400&ar=16:10" alt="Astro Jumper" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                        <div class="absolute inset-0 p-6 flex flex-col justify-end">
                            <div class="flex items-center gap-3">
                                <svg class="w-8 h-8 text-sky-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12.75 15l3-3m0 0l-3-3m3 3h-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                <h3 class="text-xl sm:text-2xl font-bold text-white">Astro Jumper</h3>
                            </div>
                            <p class="text-sky-300 mt-1">3D Platformer</p>
                        </div>
                        <div class="game-card-overlay absolute inset-0 bg-black/70 flex items-center justify-center">
                            <span class="btn-primary pointer-events-none">Play Now</span>
                        </div>
                    </div>
                    <!-- Game Card 2 -->
                    <div id="pixel-racer-card" class="group relative rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-2 transition-transform duration-300 cursor-pointer w-64 sm:w-auto flex-shrink-0">
                        <img src="https://as2.ftcdn.net/v2/jpg/04/81/59/51/1000_F_481595196_xeOLb1vk53gjYT1o2cz8hvfN4hkg83PB.jpg" alt="Car Racer" class="w-full h-full object-cover">
                         <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                        <div class="absolute inset-0 p-6 flex flex-col justify-end">
                             <div class="flex items-center gap-3">
                                 <svg class="w-8 h-8 text-pink-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12.75 15l3-3m0 0l-3-3m3 3h-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                 <h3 class="text-xl sm:text-2xl font-bold text-white">Car Racer</h3>
                               </div>
                            <p class="text-pink-400 mt-1">2D Arcade Racer</p>
                        </div>
                         <div class="game-card-overlay absolute inset-0 bg-black/70 flex items-center justify-center">
                            <span class="btn-danger pointer-events-none">Play Now</span>
                        </div>
                    </div>
                    <!-- Game Card 3 -->
                    <div id="tower-defense-card" class="group relative rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-2 transition-transform duration-300 cursor-pointer w-64 sm:w-auto flex-shrink-0">
                        <img src="https://fs-prod-cdn.nintendo-europe.com/media/images/10_share_images/games_15/nintendo_switch_download_software_1/2x1_NSwitchDS_FantasyTowerDefense_image1600w.jpg" alt="Tower Defense" class="w-full h-full object-cover">
                         <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                        <div class="absolute inset-0 p-6 flex flex-col justify-end">
                            <div class="flex items-center gap-3">
                                <svg class="w-8 h-8 text-green-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12.75 15l3-3m0 0l-3-3m3 3h-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                <h3 class="text-xl sm:text-2xl font-bold text-white">Tower Defense</h3>
                            </div>
                            <p class="text-green-400 mt-1">Strategy</p>
                        </div>
                         <div class="game-card-overlay absolute inset-0 bg-black/70 flex items-center justify-center">
                            <span class="btn-success pointer-events-none">Play Now</span>
                        </div>
                    </div>
                    <!-- Game Card 4 -->
                    <div id="tic-tac-toe-card" class="group relative rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-2 transition-transform duration-300 cursor-pointer w-64 sm:w-auto flex-shrink-0">
                        <img src="https://wallpapercave.com/wp/wp8984750.jpg" alt="Tic-Tac-Toe" class="w-full h-full object-cover">
                         <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                        <div class="absolute inset-0 p-6 flex flex-col justify-end">
                            <div class="flex items-center gap-3">
                                <svg class="w-8 h-8 text-purple-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12.75 15l3-3m0 0l-3-3m3 3h-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                <h3 class="text-xl sm:text-2xl font-bold text-white">Tic-Tac-Toe</h3>
                            </div>
                            <p class="text-purple-400 mt-1">Classic Puzzle</p>
                        </div>
                         <div class="game-card-overlay absolute inset-0 bg-black/70 flex items-center justify-center">
                            <span class="btn-secondary pointer-events-none">Play Now</span>
                        </div>
                    </div>
                     <!-- Game Card 5 -->
                    <div id="memory-match-card" class="group relative rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-2 transition-transform duration-300 cursor-pointer w-64 sm:w-auto flex-shrink-0">
                        <img src="https://img.gamedistribution.com/854fd8048c814acaa86b0faffe364290-1280x720.jpeg" alt="Memory Match" class="w-full h-full object-cover">
                         <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                        <div class="absolute inset-0 p-6 flex flex-col justify-end">
                            <div class="flex items-center gap-3">
                                <svg class="w-8 h-8 text-orange-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12.75 15l3-3m0 0l-3-3m3 3h-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                <h3 class="text-xl sm:text-2xl font-bold text-white">Memory Match</h3>
                            </div>
                            <p class="text-orange-400 mt-1">Puzzle</p>
                        </div>
                         <div class="game-card-overlay absolute inset-0 bg-black/70 flex items-center justify-center">
                            <span class="btn-warning pointer-events-none">Play Now</span>
                        </div>
                    </div>
                    
                    <!-- === NEW GAME CARD === -->
                    <!-- Game Card 7: Candy Crash -->
                    <div id="candy-crash-card" class="group relative rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-2 transition-transform duration-300 cursor-pointer w-64 sm:w-auto flex-shrink-0">
                        <img src="https://img.freepik.com/free-vector/match-3-game-items-gui-assets-set-cartoon-sweets-candies-booster-jelly-elements-ui-design_107791-9538.jpg?w=1380&t=st=1730372170~exp=1730372770~hmac=1d740523a54b679417861bc97858c7e9a8d11c0f4f03930ea34190c1737e8c1e" alt="Candy Crash" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                        <div class="absolute inset-0 p-6 flex flex-col justify-end">
                            <div class="flex items-center gap-3">
                                <svg class="w-8 h-8 text-pink-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12.75 15l3-3m0 0l-3-3m3 3h-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                <h3 class="text-xl sm:text-2xl font-bold text-white">Candy Crash</h3>
                            </div>
                            <p class="text-pink-400 mt-1">Match-3 Puzzle</p>
                        </div>
                        <div class="game-card-overlay absolute inset-0 bg-black/70 flex items-center justify-center">
                            <span class="btn-danger pointer-events-none">Play Now</span>
                        </div>
                    </div>
                    <!-- === END OF NEW GAME CARD === -->

                    <!-- Coming Soon Card -->
                    <div class="group relative rounded-lg overflow-hidden shadow-lg cursor-not-allowed filter grayscale w-64 sm:w-auto flex-shrink-0">
                        <img src="https://placehold.co/400x250/1f2937/6b7280?text=?" alt="Coming Soon" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                        <div class="absolute inset-0 p-6 flex flex-col justify-end">
                            <div class="flex items-center gap-3">
                                <svg class="w-8 h-8 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z" /></svg>
                                <h3 class="text-xl sm:text-2xl font-bold text-white">Coming Soon</h3>
                            </div>
                            <p class="text-gray-400 mt-1">Stay Tuned!</p>
                        </div>
                        <div class="absolute inset-0 bg-black/70 flex items-center justify-center">
                            <span class="btn-secondary opacity-50 pointer-events-none">Coming Soon</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
<!-- Multiplayer Games Section -->
<section id="multiplayer-games" class="py-16 sm:py-24 bg-gray-900/50">
    <div class="container mx-auto px-4 lg:px-8">
        <h2 class="text-4xl font-black-ops text-center mb-12">Multiplayer Games</h2>
        <!-- This container will be a flex row on mobile and a grid on larger screens -->
        <div class="flex overflow-x-auto space-x-6 pb-4 sm:grid sm:grid-cols-2 sm:gap-8 lg:grid-cols-4 hide-scrollbar">
            <!-- Game Card 1 -->
            <a href="mptictactoe.html" target="_blank" class="group relative rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-2 transition-transform duration-300 w-64 sm:w-auto flex-shrink-0">
                <img src="https://www.rd.com/wp-content/uploads/2019/10/tic-tac-toe-scaled.jpg" alt="Tic-Tac-Toe" class="w-full h-full object-cover">
                 <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                <div class="absolute inset-0 p-6 flex flex-col justify-end">
                    <div class="flex items-center gap-3">
                        <svg class="w-8 h-8 text-orange-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12.75 15l3-3m0 0l-3-3m3 3h-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                        <h3 class="text-xl sm:text-2xl font-bold text-white">Tic-Tac-Toe</h3>
                    </div>
                    <p class="text-orange-400 mt-1">Puzzle</p>
                </div>
                 <div class="game-card-overlay absolute inset-0 bg-black/70 flex items-center justify-center">
                    <span class="btn-warning pointer-events-none">Play Now</span>
                </div>
            </a>
            <!-- Game Card 2: Memory Match -->
            <a href="mpmemory.html" target="_blank" class="group relative rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-2 transition-transform duration-300 w-64 sm:w-auto flex-shrink-0">
                <img src="https://static.vecteezy.com/system/resources/previews/012/672/122/original/memory-game-for-preschool-children-cards-with-cartoon-safari-desert-animals-activity-page-for-book-vector.jpg" alt="Memory Match" class="w-full h-full object-cover">
                <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                <div class="absolute inset-0 p-6 flex flex-col justify-end">
                    <div class="flex items-center gap-3">
                        <svg class="w-8 h-8 text-yellow-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12.75 15l3-3m0 0l-3-3m3 3h-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                        <h3 class="text-xl sm:text-2xl font-bold text-white">Memory Match</h3>
                    </div>
                    <p class="text-yellow-400 mt-1">Puzzle</p>
                </div>
                <div class="game-card-overlay absolute inset-0 bg-black/70 flex items-center justify-center">
                    <span class="btn-warning pointer-events-none">Play Now</span>
                </div>
            </a>
            <!-- Coming Soon Card -->
            <div class="group relative rounded-lg overflow-hidden shadow-lg cursor-not-allowed filter grayscale w-64 sm:w-auto flex-shrink-0">
                <img src="https://placehold.co/400x250/1f2937/6b7280?text=?" alt="Coming Soon" class="w-full h-full object-cover">
                <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                <div class="absolute inset-0 p-6 flex flex-col justify-end">
                    <div class="flex items-center gap-3">
                        <svg class="w-8 h-8 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z" /></svg>
                        <h3 class="text-xl sm:text-2xl font-bold text-white">Coming Soon</h3>
                    </div>
                    <p class="text-gray-400 mt-1">More Multiplayer Fun!</p>
                </div>
                <div class="absolute inset-0 bg-black/70 flex items-center justify-center">
                    <span class="btn-secondary opacity-50 pointer-events-none">Coming Soon</span>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- *** Season 1 Prize Modal *** -->
<div id="season-modal" class="fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 hidden">
    <div class="glassmorphism p-8 rounded-2xl text-center max-w-md w-full relative">
        <button id="close-season-modal" class="absolute top-3 right-3 text-gray-400 hover:text-white transition-colors">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </button>
        <h3 class="text-3xl font-black-ops text-yellow-300">Season 1 Challenge</h3>
        <p class="mt-4 text-xl text-gray-200">
            The top-ranked player for <strong class="text-white">each game</strong> on the global leaderboard at the end of the season will win a prize!
        </p>
        <!-- *** UPDATED PRIZE IN MODAL *** -->
        <p class="mt-4 text-2xl font-bold text-white">Prize: <span class="text-green-400">Upto ‚Çπ500!</span> üí∞</p>
        <p class="mt-2 text-lg text-gray-300">
            Season 1 runs from <strong class="text-white">November 1st</strong> to <strong class="text-white">November 30th, 2025</strong>.
        </p>
        <p class="mt-4 text-gray-400 text-sm">Scores will be finalized at midnight (IST) on November 30th. Winners will be announced on December 1st. Good luck!</p>
    </div>
</div>
<!-- *** UPDATED: Season 1 Headline *** -->
<section id="season-announcement" class="py-12 bg-gray-800/50">
    <div class="container mx-auto px-4 lg:px-8">
        <div class="text-center glassmorphism p-6 rounded-lg max-w-3xl mx-auto">
            <h2 class="text-3xl font-black-ops text-yellow-300">Season 1 is LIVE!</h2>
            <!-- *** UPDATED PRIZE IN HEADLINE *** -->
            <p class="text-lg text-gray-200 mt-2">
                Compete from <strong class="text-white">Nov 1st - Nov 30th</strong>. The top player in each game wins <strong class="text-green-400">‚Çπ100!</strong> üí∞
            </p>
            <!-- This button ID needs to match the new JS listener -->
            <button id="main-view-prizes-btn" class="mt-4 px-5 py-2 font-semibold text-white bg-indigo-500 rounded-lg shadow-md hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-opacity-75 transition-all duration-300 transform hover:scale-105">
                View Details
            </button>
                     <button id="view-rules-btn" class="px-3 py-1 sm:px-5 sm:py-2 text-sm sm:text-base font-semibold text-indigo-400 bg-transparent border-2 border-indigo-500 rounded-lg shadow-md hover:bg-indigo-500 hover:text-white focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-opacity-75 transition-all duration-300 transform hover:scale-105">
                         <a href="leaderboard.html"> Global Leaderboard</a>
                     </button>
        </div>
    </div>
    
</section>
        <!-- Leaderboards Section -->
        <section id="leaderboards" class="py-16 sm:py-24 bg-gray-800/50">
            <div class="container mx-auto px-4 lg:px-8">
                <h2 class="text-4xl font-black-ops text-center mb-12">Your High Scores</h2>
                <div id="leaderboard-content" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Leaderboard cards will be injected here -->
                </div>
                 <div id="leaderboard-login-prompt" class="text-center text-gray-400">
                     <p>Please log in to see your high scores.</p>
                 </div>
            </div>

        </section>


        <!-- How to Play Section -->
        <section id="how-to-play" class="py-16 sm:py-24 bg-gray-900">
            <div class="container mx-auto px-4 lg:px-8 text-center">
                <h2 class="text-4xl font-black-ops text-center mb-4">How to Play</h2>
                <p class="text-lg text-gray-400 mb-8 max-w-3xl mx-auto">Select a game below for instructions on its objective and controls.</p>
                <div class="flex flex-wrap justify-center gap-4 mb-12">
                    <button class="btn-primary game-info-btn" data-game="Astro Jumper">Astro Jumper</button>
                    <button class="btn-danger game-info-btn" data-game="Car Racer">Car Racer</button>
                    <button class="btn-success game-info-btn" data-game="Tower Defense">Tower Defense</button>
                    <button class="btn-secondary game-info-btn" data-game="Tic-Tac-Toe">Tic-Tac-Toe</button>
                    <button class="btn-warning game-info-btn" data-game="Memory Match">Memory Match</button>
                    <!-- === NEW HOW-TO-PLAY BUTTON === -->
                    <button class="btn-danger game-info-btn" data-game="Candy Crash">Candy Crash</button>
                </div>
                <div id="gameExplanationResult" class="mt-12 min-h-[200px] flex items-center justify-center">
                    <p class="text-gray-500">Select a game to see instructions.</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 border-t border-gray-700">
        <div class="container mx-auto px-4 lg:px-8 py-8 text-center text-gray-400">
            <p>&copy; 2025 <a href="https://chat.whatsapp.com/DUXdfaOxJoPC87KjRWbkjo" style="text-decoration:underline;">FalconixGaming</a>. All Rights Reserved.</p>
            <div class="flex justify-center space-x-6 mt-4">
                <a href="https://wa.me/qr/MRKTOLBP5VHRI1" class="hover:text-white">Privacy Policy</a>
                <a href="https://wa.me/qr/MRKTOLBP5VHRI1" class="hover:text-white">Terms of Service</a>
                <a href="https://wa.me/qr/MRKTOLBP5VHRI1" class="hover:text-white">Contact</a>
            </div>
        </div>
    </footer>

    <!-- MODALS -->

    <!-- Logout Confirmation Modal -->
    <div id="logout-modal" class="fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 hidden">
        <div class="glassmorphism p-8 rounded-2xl text-center max-w-sm w-full">
            <h3 class="text-2xl font-bold text-white">Are you sure?</h3>
            <p class="mt-2 text-gray-300">You will be logged out of your account.</p>
            <div class="mt-6 flex justify-center gap-4">
                <button id="cancel-logout-btn" class="btn-primary">Cancel</button>
                <button id="confirm-logout-btn" class="px-6 py-3 font-semibold text-red-500 bg-transparent border border-red-500 rounded-lg hover:bg-red-500 hover:text-white transition-colors duration-300">Confirm Logout</button>
            </div>
        </div>
    </div>

    <!-- Mobile Welcome Modal -->
    <div id="mobile-welcome-modal" class="fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 hidden md:hidden">
        <div class="glassmorphism p-8 rounded-2xl text-center max-w-sm w-full relative">
            <button id="close-welcome-modal" class="absolute top-2 right-2 text-gray-400 hover:text-white">
                 <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            <h2 class="text-3xl font-black-ops text-white">Welcome to <br>FALCONIX<span class="text-sky-400">GAMING</span></h2>
            <p class="mt-4 text-gray-300">Log in to save your high scores and compete on the leaderboards!</p>
            <button id="modal-login-button" class="btn-primary w-full mt-6 text-lg">
                Login with Google
            </button>
        </div>
    </div>
    
    <!-- Car Racer Game Modal -->
    <div id="pixelRacerModal" class="fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 invisible opacity-0">
        <div class="w-full max-w-md lg:max-w-lg relative">
            <div class="bg-gray-800 rounded-lg shadow-2xl overflow-hidden aspect-[3/4] relative">
                <canvas id="racerGameCanvas"></canvas>
                <div id="racerUiLayer" class="absolute inset-0 flex flex-col items-center justify-center text-center p-4 pointer-events-none">
                    <div id="racerStartScreen" class="pointer-events-auto flex flex-col items-center">
                        <h2 class="text-5xl font-black-ops text-white">CAR <span class="text-pink-500">RACER</span></h2>
                        <p class="mt-4 text-gray-300 px-4">Use Arrow Keys on desktop, or Drag your finger on mobile to move!</p>
                        <button id="racerStartButton" class="btn-danger mt-8 text-xl">Start Race</button>
                    </div>
                    <div id="racerInGameUI" class="hidden absolute top-5 left-5 text-left">
                        <p class="text-2xl font-bold text-white">Score: <span id="racerScore">0</span></p>
                    </div>
                    <div id="racerGameOverScreen" data-game-name="Car Racer" class="hidden flex-col items-center justify-center glassmorphism p-8 rounded-2xl pointer-events-auto">
                        <h2 class="text-5xl font-black-ops text-white">CRASHED!</h2>
                        <p class="mt-4 text-2xl text-gray-200">Final Score: <span id="racerFinalScore" class="font-bold text-pink-400">0</span></p>
                        <div class="mt-6 flex flex-col sm:flex-row gap-4">
                            <button id="racerRestartButton" class="btn-danger-outline text-xl">Try Again</button>
                            <button id="shareRacerScore" class="btn-secondary-outline text-xl">Share Score</button>
                        </div>
                    </div>
                </div>
            </div>
            <button id="closeRacerModal" class="absolute -top-2 -right-2 bg-white rounded-full p-1 text-gray-800 hover:bg-gray-200">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
            </button>
        </div>
    </div>

    <!-- Tower Defense Game Modal -->
    <div id="towerDefenseModal" class="fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 invisible opacity-0">
        <div class="w-full max-w-4xl relative">
            <div class="bg-gray-800 rounded-lg shadow-2xl overflow-hidden aspect-[4/3] relative">
                <canvas id="towerDefenseCanvas"></canvas>
                <div id="tdUiLayer" class="absolute inset-0 flex flex-col items-center justify-center text-center p-4 pointer-events-none">
                    <div id="tdStartScreen" class="pointer-events-auto flex flex-col items-center">
                        <h2 class="text-5xl font-black-ops text-white">TOWER <span class="text-green-500">DEFENSE</span></h2>
                        <p class="mt-4 text-gray-300">Place towers to stop the enemies from reaching the end!</p>
                        <button id="tdStartButton" class="btn-success mt-8 text-xl">Start Game</button>
                    </div>
                     <div id="tdInGameUI" class="hidden absolute top-0 left-0 w-full h-full pointer-events-none">
                         <div class="absolute top-2 left-2 text-left bg-gray-900/50 p-2 rounded-lg">
                             <p class="font-bold text-white">‚ù§Ô∏è Health: <span id="tdHealth"></span></p>
                             <p class="font-bold text-white">üí∞ Gold: <span id="tdGold"></span></p>
                             <p class="font-bold text-white">üåä Wave: <span id="tdWave"></span></p>
                         </div>
                         <div id="tdTowerSelection" class="absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-4 pointer-events-auto">
                             <button id="buyTurretButton" class="bg-gray-700 p-3 rounded-lg border-2 border-transparent hover:border-green-400">
                                 <p class="font-bold">Turret</p>
                                 <p class="text-sm">Cost: 100üí∞</p>
                             </button>
                         </div>
                         <button id="nextWaveButton" class="absolute bottom-2 right-2 btn-success pointer-events-auto">Next Wave</button>
                     </div>
                    <div id="tdGameOverScreen" data-game-name="Tower Defense" class="hidden flex-col items-center justify-center glassmorphism p-8 rounded-2xl pointer-events-auto">
                        <h2 id="tdEndTitle" class="text-5xl font-black-ops text-white"></h2>
                        <p class="mt-4 text-2xl text-gray-200">You survived <span id="tdFinalWave" class="font-bold text-green-400">0</span> waves.</p>
                        <div class="mt-8 flex flex-col sm:flex-row gap-4">
                            <button id="tdRestartButton" class="btn-success-outline text-xl">Play Again</button>
                            <button id="shareTDScore" class="btn-secondary-outline text-xl">Share Score</button>
                        </div>
                    </div>
                </div>
            </div>
            <button id="closeTowerDefenseModal" class="absolute -top-2 -right-2 bg-white rounded-full p-1 text-gray-800 hover:bg-gray-200">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
            </button>
        </div>
    </div>

    <!-- Tic-Tac-Toe Game Modal -->
    <div id="ticTacToeModal" class="fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 invisible opacity-0">
        <div class="w-full max-w-sm relative">
            <div class="bg-gray-800 p-6 sm:p-8 rounded-2xl shadow-2xl w-full border border-gray-700">
                <div class="text-center mb-4">
                    <h1 class="text-5xl font-bold text-gray-100" style="font-family: 'Fredoka One', cursive;">Tic-Tac-Toe</h1>
                </div>
                <div id="ttt-scoreboard" class="flex justify-around text-center mb-4">
                    <div>
                        <p class="text-lg font-bold text-red-500">Player X</p>
                        <p id="ttt-score-x" class="text-3xl font-bold text-gray-100">0</p>
                    </div>
                    <div>
                        <p class="text-lg font-bold text-blue-400">Player O</p>
                        <p id="ttt-score-o" class="text-3xl font-bold text-gray-100">0</p>
                    </div>
                </div>
                <div id="ttt-status" class="text-center text-xl font-semibold text-gray-400 mb-6 h-8 flex items-center justify-center"></div>
                <div id="ttt-game-board" class="grid grid-cols-3 gap-3 mb-6">
                    <div class="ttt-cell bg-gray-700 h-24 sm:h-28 rounded-lg flex items-center justify-center text-5xl cursor-pointer hover:bg-gray-600" data-index="0"></div>
                    <div class="ttt-cell bg-gray-700 h-24 sm:h-28 rounded-lg flex items-center justify-center text-5xl cursor-pointer hover:bg-gray-600" data-index="1"></div>
                    <div class="ttt-cell bg-gray-700 h-24 sm:h-28 rounded-lg flex items-center justify-center text-5xl cursor-pointer hover:bg-gray-600" data-index="2"></div>
                    <div class="ttt-cell bg-gray-700 h-24 sm:h-28 rounded-lg flex items-center justify-center text-5xl cursor-pointer hover:bg-gray-600" data-index="3"></div>
                    <div classV="ttt-cell bg-gray-700 h-24 sm:h-28 rounded-lg flex items-center justify-center text-5xl cursor-pointer hover:bg-gray-600" data-index="4"></div>
                    <div class="ttt-cell bg-gray-700 h-24 sm:h-28 rounded-lg flex items-center justify-center text-5xl cursor-pointer hover:bg-gray-600" data-index="5"></div>
                    <div class="ttt-cell bg-gray-700 h-24 sm:h-28 rounded-lg flex items-center justify-center text-5xl cursor-pointer hover:bg-gray-600" data-index="6"></div>
                    <div class="ttt-cell bg-gray-700 h-24 sm:h-28 rounded-lg flex items-center justify-center text-5xl cursor-pointer hover:bg-gray-600" data-index="7"></div>
                    <div class="ttt-cell bg-gray-700 h-24 sm:h-28 rounded-lg flex items-center justify-center text-5xl cursor-pointer hover:bg-gray-600" data-index="8"></div>
                </div>
                <div id="ttt-button-container" class="space-y-2">
                    <button id="ttt-next-round-button" class="w-full bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 focus:outline-none focus:ring-4 focus:ring-green-300 transition-all duration-200 hidden">Next Round</button>
                    <button id="ttt-restart-button" class="w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 transition-all duration-200">Restart Game</button>
                </div>
            </div>
            <button id="closeTicTacToeModal" class="absolute -top-2 -right-2 bg-white rounded-full p-1 text-gray-800 hover:bg-gray-200">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
            </button>
        </div>
    </div>

    <!-- Memory Match Game Modal -->
    <div id="memoryMatchModal" class="fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 invisible opacity-0">
        <div class="w-full max-w-lg relative">
             <div class="bg-gray-800 p-6 sm:p-8 rounded-2xl shadow-2xl w-full border border-gray-700">
                <div class="text-center mb-4">
                    <h1 class="text-5xl font-bold text-gray-100" style="font-family: 'Fredoka One', cursive;">Memory Match</h1>
                    <p class="text-gray-400 mt-2">Moves: <span id="moves-count" class="font-bold">0</span></p>
                </div>
                <div id="memory-game-board" class="grid grid-cols-4 gap-4 mb-6 memory-game-board">
                    <!-- Cards will be generated by JavaScript -->
                </div>
                <button id="memory-restart-button" class="w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 transition-all duration-200">
                    Restart Game
                </button>
            </div>
            <button id="closeMemoryMatchModal" class="absolute -top-2 -right-2 bg-white rounded-full p-1 text-gray-800 hover:bg-gray-200">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
            </button>
        </div>
    </div>

    <!-- Memory Match Win Modal -->
    <div id="memoryMatchWinModal" class="fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 hidden">
        <div class="glassmorphism p-8 rounded-2xl text-center max-w-sm w-full">
            <h2 class="text-5xl font-black-ops text-white">You Won!</h2>
            <p class="mt-4 text-2xl text-gray-200">Finished in <span id="memoryFinalMoves" class="font-bold text-yellow-400">0</span> moves!</p>
            <div class="mt-8 flex flex-col sm:flex-row gap-4 justify-center">
                 <button id="memoryRestartButtonWin" class="btn-warning-outline text-xl">Play Again</button>
                 <button id="shareMemoryScore" class="btn-secondary-outline text-xl">Share Score</button>
            </div>
        </div>
    </div>

    <!-- === NEW GAME MODAL === -->
    <!-- Candy Crash Game Modal -->
    <div id="candyCrashModal" class="fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 invisible opacity-0">
        <div class="w-full max-w-md relative">
            <!-- Main game container -->
            <div class="bg-gray-800 rounded-lg shadow-2xl overflow-hidden p-4 relative border border-gray-700">
                <!-- UI Layer -->
                <div id="candyCrashUiLayer" class="absolute inset-0 flex flex-col items-center justify-center text-center p-4 pointer-events-none z-10">
                    <!-- Start Screen -->
                    <div id="candyCrashStartScreen" class="pointer-events-auto flex flex-col items-center">
                        <h2 class="text-5xl font-black-ops text-white">CANDY <span class="text-pink-500">CRASH</span></h2>
                        <p class="mt-4 text-gray-300">Match 3 or more candies. Score as high as you can in 90 seconds!</p>
                        <button id="candyCrashStartButton" class="btn-danger mt-8 text-xl">Start Game</button>
                    </div>
                    
                    <!-- Game Over Screen -->
                    <div id="candyCrashGameOverScreen" data-game-name="Candy Crash" class="hidden flex-col items-center justify-center glassmorphism p-8 rounded-2xl pointer-events-auto">
                        <h2 class="text-5xl font-black-ops text-white">TIME'S UP!</h2>
                        <p class="mt-4 text-2xl text-gray-200">Final Score: <span id="candyCrashFinalScore" class="font-bold text-pink-400">0</span></p>
                        <div class="mt-6 flex flex-col sm:flex-row gap-4">
                            <button id="candyCrashRestartButton" class="btn-danger-outline text-xl">Play Again</button>
                            <button id="shareCandyCrashScore" class="btn-secondary-outline text-xl">Share Score</button>
                        </div>
                    </div>
                </div>

                <!-- In-Game UI (Visible during play) -->
                <div id="candyCrashInGameUI" class="hidden relative mb-4 z-20">
                    <div class="flex justify-between items-center bg-gray-900/50 p-3 rounded-lg">
                        <div class="text-left">
                            <p class="text-xl font-bold text-white">Score: <span id="candyCrashScore" class="text-pink-400">0</span></p>
                        </div>
                        <div class="text-right">
                            <p class="text-xl font-bold text-white">Time: <span id="candyCrashTimer" class="text-yellow-400">90</span></p>
                        </div>
                    </div>
                </div>

                <!-- Game Grid -->
                <div id="candyCrashGameGrid" class="relative z-0 opacity-20">
                    <!-- Game will be rendered here by JS -->
                </div>
            </div>

            <!-- Close Button -->
            <button id="closeCandyCrashModal" class="absolute -top-2 -right-2 bg-white rounded-full p-1 text-gray-800 hover:bg-gray-200 z-30">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
            </button>
        </div>
    </div>
    <!-- === END OF NEW GAME MODAL === -->


    <!-- Fallback Share Modal -->
    <div id="shareModal" class="fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 hidden">
        <div class="glassmorphism p-8 rounded-2xl text-center max-w-md w-full relative">
            <button id="closeShareModal" class="absolute top-2 right-2 text-gray-400 hover:text-white">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            <h3 class="text-2xl font-bold text-white">Share Your Score!</h3>
            <p class="mt-2 text-gray-300">Share your achievement with your friends.</p>
            <textarea id="shareText" class="w-full bg-gray-900 text-white rounded-lg p-2 mt-4 h-24 resize-none" readonly></textarea>
            <button id="copyShareText" class="btn-primary w-full mt-4">Copy Text</button>
            <div class="mt-4 flex justify-center gap-4">
                <a id="whatsappShareLink" href="#" target="_blank" class="btn-success">WhatsApp</a>
                <a id="twitterShareLink" href="#" target="_blank" class="btn-primary">Twitter</a>
            </div>
        </div>
    </div>
    
    <!-- Scripts -->
    <script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>
    <script type="importmap">
    {
        "imports": {
            "three": "https://cdnjs.cloudflare.com/ajax/libs/three.js/0.157.0/three.module.js",
            "cannon-es": "https://unpkg.com/cannon-es@0.20.0/dist/cannon-es.js",
            "firebase/app": "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js",
            "firebase/auth": "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js",
            "firebase/firestore": "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js"
        }
    }
    </script>
    <script src="games.js" type="module"></script>
</body>
</html>

